<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot</title>
</head>
<body>
    <div class="js_container"></div>

    <!-- <script src="https://unpkg.com/supersimpledev@3.2.1/external-library.js"></script> -->

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    
    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <!-- <script src="./app.js"></script> -->

    <script type="text/babel">
      function ChatInput(){
        return (
            <>
            <input placeholder="Send a message to Chatbot" size="30"/>
            <button>Send</button>
            </>

        )
      }
        function ChatMessage(props){
            //const message=props.message;
            //const sender =props.sender;

                const {message, sender}=props;//destructuring shortcut

            // if(sender === 'robot'){
            //     return (
            //          <div>
            //             <img src="robot.png" width="50" />
            //     {message}
                
            //     </div>

            //     )

            // }
            return (
                <div>
                    {sender ==='robot' && <img src="robot.png" width="50" />}
                {message}
                {sender === 'user' && (
                    <img src="user.png" width="50" />
            )}
                </div>
            )
        }


function ChatMessages(){
    React.useState(
          [{
                    message:'hello chatbot',
                    sender: 'user',
                    id: 'id1'
                },{
                    message:"Hello! How can I help you?" ,
                    sender:'robot',
                    id:'id2'
                },{
                    message:"can you get me todays date?",
                    sender:'user',
                    id:'id3'
                },{
                    message:"Today is jan 5",
                    sender:'robot',
                    id:'id4'
                }] );
     const ChatMessages=
    
   

function sendMessage(){
   ChatMessages.push({
    message:'test',
    sender:'user',
    id:crypto.randomUUID()
   })

   console.log(ChatMessage)
}

             return(
                <>
                  <button onClick={sendMessage}>Send Message</button>
                    { ChatMessages.map((ChatMessage)=>{
                            return (
                                
                                <ChatMessage
                                message={ChatMessage.message}
                                sender={ChatMessage.sender}
                                key={ChatMessage.id}
                                />
                            ) ;
                    })}
                   </>
                );
            
                }
            function App(){
  
            return (
             <>
             <ChatInput />
             <ChatMessages />

                      
                </>

                        )
                    }

        const container=document.querySelector('.js_container')
        ReactDOM.createRoot(container).render(<App />)
    </script>
</body>
</html>